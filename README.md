# reddit-playlists

**reddit-playlists** is the python code behind the `Reddit Playlists` project. 
You can find the project main page along with the list of playlists generated by this code [here.](https://jameslawlor.github.io/reddit-playlists/)
 
## Setup

You can clone this repository with the command
 
```
git clone git@github.com:jameslawlor/reddit-playlists.git
```

Create a virtual environment and install the package requirements with `pip install -r requirements.txt`

You'll also need to create two new files to contain credentials for using the Spotify and Reddit APIs. 
Add these to the project root directory

* `praw.ini`
* `spotipy.cfg`

 See the [PRAW](https://praw.readthedocs.io/en/stable/) and [Spotipy](https://spotipy.readthedocs.io/) docs for how to set these up.
 They'll also show you how to create credentials for using the Spotify and Reddit APIs.
 If you're planning to share the code anywhere make sure you do not share the contents of these files! 
 These have been added to the `.gitignore` file already but please be mindful of this.

## Usage

 The main program can run different tasks by the command `python main.py --task $TASK` where `$TASK` is one of:
* `get_subreddits_and_genres` - scrape the list of music subreddits from the [/r/Music wiki](https://www.reddit.com/r/Music/wiki/musicsubreddits/) and adds them to a JSON file in `data/subreddit_genre_sub_count/`
* `create_empty_playlists` - create an initial set of empty playlists using the output from the first task
* `update_playlists` - Refresh the playlists with the previous week's top tracks. This is the task that is run weekly to maintain the Spotify playlists.
* `delete_playlists` - delete all user's Spotify playlists matching some regex pattern (use carefully)  
* `generate_subreddit_playlist_links_markdown_file` - creates a markdown file listing all subreddits and linking to their corresponding playlists

